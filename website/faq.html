<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FAQ - MailVault | Frequently Asked Questions</title>
  <meta name="description" content="Frequently asked questions about MailVault. Learn how MailVault backs up your IMAP emails locally on macOS, supported providers, security, and more.">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://mailvaultapp.com/faq.html">
  <meta name="theme-color" content="#6366f1">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://mailvaultapp.com/faq.html">
  <meta property="og:title" content="FAQ - MailVault | Frequently Asked Questions">
  <meta property="og:description" content="Frequently asked questions about MailVault. Learn how MailVault backs up your IMAP emails locally on macOS, supported providers, security, and more.">
  <meta property="og:image" content="https://mailvaultapp.com/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="MailVault">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="FAQ - MailVault | Frequently Asked Questions">
  <meta name="twitter:description" content="Frequently asked questions about MailVault. Learn how MailVault backs up your IMAP emails locally on macOS, supported providers, security, and more.">
  <meta name="twitter:image" content="https://mailvaultapp.com/og-image.png">
  <meta name="twitter:site" content="@GraphicMeat">

  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">

  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eef2ff', 100: '#e0e7ff', 200: '#c7d2fe', 300: '#a5b4fc',
              400: '#818cf8', 500: '#6366f1', 600: '#4f46e5', 700: '#4338ca',
              800: '#3730a3', 900: '#312e81',
            }
          }
        }
      }
    }
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', system-ui, sans-serif; }
    .gradient-text {
      background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a855f7 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .gradient-bg { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); }
    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .dark .glass {
      background: rgba(0, 0, 0, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.05);
    }
    .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
    .faq-answer.open { max-height: 1200px; }
    .faq-chevron { transition: transform 0.3s ease; }
    .faq-chevron.open { transform: rotate(180deg); }
  </style>

  <!-- Structured Data: WebPage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "FAQ - MailVault",
    "description": "Frequently asked questions about MailVault. Learn how MailVault backs up your IMAP emails locally on macOS.",
    "url": "https://mailvaultapp.com/faq.html",
    "isPartOf": {
      "@type": "WebSite",
      "name": "MailVault",
      "url": "https://mailvaultapp.com/"
    }
  }
  </script>

  <!-- Structured Data: FAQPage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What is MailVault?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "MailVault is a free, open-source desktop email client for macOS that stores your emails locally. It connects to your email accounts via IMAP and saves all messages as standard .eml files (RFC 5322) in Maildir format on your computer, giving you a permanent offline backup with no vendor lock-in."
        }
      },
      {
        "@type": "Question",
        "name": "How does MailVault back up emails?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "MailVault connects to your email server using the IMAP protocol and downloads each email as a standard .eml file stored in Maildir format on your Mac. Each email is one file on disk — human-readable, portable, and compatible with any mail client. Once synced, you can safely delete emails from the server to free up space while keeping them accessible locally."
        }
      },
      {
        "@type": "Question",
        "name": "Which email providers does MailVault work with?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "MailVault works with any email provider that supports IMAP, including Gmail, Outlook, Yahoo Mail, iCloud Mail, ProtonMail (with Bridge), Fastmail, Zoho Mail, and any self-hosted or business email provider with IMAP access."
        }
      },
      {
        "@type": "Question",
        "name": "Is MailVault free?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes, MailVault is completely free and open source. There are no premium plans, no subscriptions, and no feature restrictions. The full source code is available on GitHub."
        }
      },
      {
        "@type": "Question",
        "name": "Where are my emails stored?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "All emails are stored locally on your Mac as standard .eml files organized in Maildir format — one file per email, no database required. Your data never leaves your computer and is never uploaded to any cloud service. Because .eml is a universal standard, your emails can be opened by Apple Mail, Thunderbird, Outlook, or any other mail client — you are never locked in to MailVault."
        }
      },
      {
        "@type": "Question",
        "name": "What are .eml files and Maildir? Why does it matter?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": ".eml (RFC 5322) is the internet standard format for email messages. Every email is stored as a single, self-contained text file that can be opened by any email client. Maildir is a proven directory structure for storing email, used by mail servers for decades. Each email is one file, so there is no single database that can corrupt. Together, .eml + Maildir mean your emails are future-proof, portable, and never locked in to any single application."
        }
      },
      {
        "@type": "Question",
        "name": "Can I access my emails offline?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. Once your emails are synced, they are stored locally and you can read, search, and browse all of them without an internet connection. You only need internet to sync new emails or send messages."
        }
      },
      {
        "@type": "Question",
        "name": "Is my data secure?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "MailVault is designed with privacy first. Your email credentials are stored in the macOS Keychain, not in plain text. All data stays on your machine — there is no cloud sync, no tracking, no analytics, and no data mining. The app is open source so you can verify the code yourself."
        }
      },
      {
        "@type": "Question",
        "name": "What happens if I delete emails from the server?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "If you delete emails from your email server after MailVault has synced them, they remain safely stored in your local MailVault archive. This is one of the main use cases — back up locally, then free up server storage space without losing anything."
        }
      },
      {
        "@type": "Question",
        "name": "Does MailVault work with Gmail and Outlook?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. MailVault works with Gmail, Outlook, and any other email service that supports IMAP. For Gmail, sign in directly with your Google account using OAuth2 — no manual IMAP settings needed. Microsoft 365 Business and Enterprise accounts can sign in directly with your Microsoft account using OAuth2. Personal Outlook.com accounts are currently affected by a known Microsoft server issue."
        }
      },
      {
        "@type": "Question",
        "name": "Why can't I connect my Outlook.com account?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "There is a known Microsoft server-side issue affecting personal Outlook.com, Hotmail, and Live.com accounts since late 2024. After signing in with your Microsoft account, the IMAP connection fails with 'User is authenticated but not connected.' Microsoft's IMAP service has a regression that prevents OAuth2-authenticated sessions from connecting. Microsoft 365 Business/Enterprise accounts are not affected. MailVault's OAuth2 implementation is ready and will work once Microsoft resolves the issue."
        }
      },
      {
        "@type": "Question",
        "name": "How do I use MailVault with Proton Mail?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Proton Mail uses end-to-end encryption, so it doesn't expose standard IMAP access directly. To use MailVault with Proton Mail, you need Proton Mail Bridge — a free desktop app from Proton that runs locally and provides IMAP/SMTP access to your encrypted mailbox. Install Proton Mail Bridge, sign in with your Proton account, then copy the IMAP/SMTP credentials from Bridge. In MailVault, add a Custom account with IMAP host 127.0.0.1 port 1143, SMTP host 127.0.0.1 port 1025, STARTTLS security, and use the Bridge-generated password (not your Proton account password). Bridge must be running in the background whenever you sync."
        }
      },
      {
        "@type": "Question",
        "name": "What are the system requirements?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "MailVault requires macOS 10.15 (Catalina) or later. It runs natively on both Intel and Apple Silicon Macs. The app is lightweight and runs in the background from your menu bar with minimal resource usage."
        }
      },
      {
        "@type": "Question",
        "name": "How are attachments handled?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Attachments are embedded inside each .eml file as MIME parts — they are not stored as separate files. When you open an email, MailVault's Rust backend parses the MIME structure and extracts attachments on the fly. You can Open, Save As, or Show in Folder any attachment directly from the email viewer."
        }
      },
      {
        "@type": "Question",
        "name": "What happens when I archive an email?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Archiving downloads the full email from your server (if not already cached) and stores it as a .eml file on disk with the A (Archived) flag in the filename. Archived emails appear in the Local view mode and are included in backups. The email remains on your server unless you explicitly delete it."
        }
      },
      {
        "@type": "Question",
        "name": "What happens when I archive and delete from server?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "When you choose Archive & Delete from Server, MailVault first archives the email locally, then sets the IMAP \\Deleted flag on the server copy. The email becomes local-only — it only exists on your machine. This is the recommended workflow for freeing up server storage while keeping a permanent local backup."
        }
      },
      {
        "@type": "Question",
        "name": "How does backup and restore work?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "MailVault exports your emails as a ZIP archive containing all .eml files plus a manifest.json that maps emails to accounts by email address, making backups portable across installations. You can export all emails or archived only. Importing is idempotent — duplicates are skipped. If a backup contains emails for an unrecognized account, MailVault creates it automatically."
        }
      }
    ]
  }
  </script>
</head>

<body class="bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-300">

  <!-- Navigation -->
  <nav role="banner" class="fixed top-0 left-0 right-0 z-50 glass">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <a href="/" class="flex items-center gap-3">
          <img src="icon-128.png" alt="MailVault logo" class="w-8 h-8 rounded-lg">
          <span class="font-bold text-xl">Mail<span class="text-primary-500">Vault</span></span>
        </a>

        <div class="hidden md:flex items-center gap-8">
          <a href="/#features" class="text-slate-600 dark:text-slate-300 hover:text-primary-500 transition-colors">Features</a>
          <a href="/#how-it-works" class="text-slate-600 dark:text-slate-300 hover:text-primary-500 transition-colors">How It Works</a>
          <a href="/faq.html" class="text-primary-500 font-medium">FAQ</a>
          <a href="/changelog.html" class="text-slate-600 dark:text-slate-300 hover:text-primary-500 transition-colors">Changelog</a>
          <a href="/blog.html" class="text-slate-600 dark:text-slate-300 hover:text-primary-500 transition-colors">Blog</a>
          <a href="/#contact" class="text-slate-600 dark:text-slate-300 hover:text-primary-500 transition-colors">Contact</a>
        </div>

        <div class="flex items-center gap-4">
          <button id="theme-toggle" class="p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">
            <svg class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
              <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"/>
            </svg>
            <svg class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
              <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"/>
            </svg>
          </button>
          <a href="https://github.com/GraphicMeat/mail-vault-app/releases/latest" target="_blank" class="hidden sm:inline-flex gradient-bg text-white px-4 py-2 rounded-lg font-medium hover:opacity-90 transition-opacity">
            Download
          </a>
          <!-- Mobile menu button -->
          <button id="mobile-menu-btn" class="md:hidden p-2 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path id="menu-icon-open" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
              <path id="menu-icon-close" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Mobile menu -->
      <div id="mobile-menu" class="hidden md:hidden pb-4">
        <div class="flex flex-col gap-2 pt-2 border-t border-slate-200 dark:border-slate-700">
          <a href="/" class="px-3 py-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary-500 transition-colors">Home</a>
          <a href="/#features" class="px-3 py-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary-500 transition-colors">Features</a>
          <a href="/#how-it-works" class="px-3 py-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary-500 transition-colors">How It Works</a>
          <a href="/faq.html" class="px-3 py-2 rounded-lg text-primary-500 font-medium">FAQ</a>
          <a href="/changelog.html" class="px-3 py-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary-500 transition-colors">Changelog</a>
          <a href="/blog.html" class="px-3 py-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary-500 transition-colors">Blog</a>
          <a href="/#contact" class="px-3 py-2 rounded-lg text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-primary-500 transition-colors">Contact</a>
          <a href="https://github.com/GraphicMeat/mail-vault-app/releases/latest" target="_blank" class="sm:hidden mt-1 px-3 py-2 rounded-lg gradient-bg text-white font-medium text-center hover:opacity-90 transition-opacity">Download</a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Content -->
  <main class="pt-24 pb-20">
    <div class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <h1 class="text-4xl font-bold mb-2">Frequently Asked Questions</h1>
      <p class="text-slate-500 dark:text-slate-400 mb-10">Everything you need to know about MailVault.</p>

      <div class="space-y-3">

        <!-- FAQ 1 -->
        <div id="what-is-mailvault" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">What is MailVault?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              MailVault is a free, open-source desktop email client for macOS that stores your emails locally. It connects to your email accounts via IMAP and saves all messages as standard <a href="https://datatracker.ietf.org/doc/html/rfc5322" target="_blank" rel="noopener" class="text-primary-500 hover:underline">.eml files (RFC 5322)</a> in <a href="https://en.wikipedia.org/wiki/Maildir" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Maildir</a> format on your computer, giving you a permanent offline backup with no vendor lock-in.
            </p>
          </div>
        </div>

        <!-- FAQ 2 -->
        <div id="how-does-backup-work" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">How does MailVault back up emails?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              MailVault connects to your email server using the IMAP protocol and downloads each email as a standard <a href="https://datatracker.ietf.org/doc/html/rfc5322" target="_blank" rel="noopener" class="text-primary-500 hover:underline">.eml file</a> stored in <a href="https://en.wikipedia.org/wiki/Maildir" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Maildir</a> format on your Mac. Each email is one file on disk — human-readable, portable, and compatible with any mail client. Once synced, you can safely delete emails from the server to free up space while keeping them accessible locally.
            </p>
          </div>
        </div>

        <!-- FAQ 3 -->
        <div id="supported-email-providers" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">Which email providers does MailVault work with?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              MailVault works with any email provider that supports IMAP, including Gmail, Outlook, Yahoo Mail, iCloud Mail, ProtonMail (with Bridge), Fastmail, Zoho Mail, and any self-hosted or business email provider with IMAP access.
            </p>
          </div>
        </div>

        <!-- FAQ 4 -->
        <div id="is-mailvault-free" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">Is MailVault free?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              Yes, MailVault is completely free and open source. There are no premium plans, no subscriptions, and no feature restrictions. The full source code is available on <a href="https://github.com/GraphicMeat/mail-vault-app" class="text-primary-500 hover:underline" target="_blank">GitHub</a>.
            </p>
          </div>
        </div>

        <!-- FAQ 5 -->
        <div id="where-are-emails-stored" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">Where are my emails stored?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <div class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              <p class="mb-4">All emails are stored locally on your Mac as standard <a href="https://datatracker.ietf.org/doc/html/rfc5322" target="_blank" rel="noopener" class="text-primary-500 hover:underline">.eml files</a> organized in <a href="https://en.wikipedia.org/wiki/Maildir" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Maildir</a> format — one file per email, no database required. Your data never leaves your computer and is never uploaded to any cloud service. Because .eml is a universal standard, your emails can be opened by Apple Mail, Thunderbird, Outlook, or any other mail client — you're never locked in to MailVault.</p>
              <p class="mb-2 font-medium text-slate-700 dark:text-slate-300">Directory structure:</p>
              <pre class="bg-slate-100 dark:bg-slate-900 rounded-lg p-4 text-sm overflow-x-auto mb-2"><code>~/Library/Application Support/com.mailvault.app/
└── maildir/
    └── you@example.com/
        └── INBOX/
            ├── headers.json          ← cached list for fast loading
            └── cur/
                ├── 1234567890.eml    ← auto-cached email
                └── 1234567891_AS.eml ← archived + seen email</code></pre>
            </div>
          </div>
        </div>

        <!-- FAQ: .eml and Maildir -->
        <div id="eml-and-maildir" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">What are .eml files and Maildir? Why does it matter?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <div class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              <p class="mb-4"><a href="https://datatracker.ietf.org/doc/html/rfc5322" target="_blank" rel="noopener" class="text-primary-500 hover:underline">.eml (RFC 5322)</a> is the internet standard format for email messages. Every email — headers, body, and attachments — is stored as a single, self-contained text file. Unlike proprietary databases, .eml files can be opened by any email client (Apple Mail, Thunderbird, Outlook) and read with any text editor.</p>
              <p class="mb-4"><a href="https://en.wikipedia.org/wiki/Maildir" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Maildir</a> is a proven directory structure for storing email, used by mail servers for decades. Each email is one file, so there's no single database that can corrupt — if one file is damaged, the rest of your archive is unaffected. Together, .eml + Maildir mean your emails are future-proof, portable, and never locked in to any single application.</p>
              <p class="mb-2 font-medium text-slate-700 dark:text-slate-300">Filename flags:</p>
              <p>MailVault appends flag characters to the .eml filename to track status: <strong>A</strong> = Archived, <strong>S</strong> = Seen, <strong>R</strong> = Replied, <strong>F</strong> = Flagged. For example, <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">1234567890_AS.eml</code> means the email has been archived and seen.</p>
            </div>
          </div>
        </div>

        <!-- FAQ 6 -->
        <div id="offline-access" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">Can I access my emails offline?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              Yes. Once your emails are synced, they are stored locally and you can read, search, and browse all of them without an internet connection. You only need internet to sync new emails or send messages.
            </p>
          </div>
        </div>

        <!-- FAQ 7 -->
        <div id="data-security" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">Is my data secure?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              MailVault is designed with privacy first. Your email credentials are stored in the macOS Keychain, not in plain text. All data stays on your machine — there is no cloud sync, no tracking, no analytics, and no data mining. The app is open source so you can verify the code yourself.
            </p>
          </div>
        </div>

        <!-- FAQ 8 -->
        <div id="delete-from-server" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">What happens if I delete emails from the server?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              If you delete emails from your email server after MailVault has synced them, they remain safely stored in your local MailVault archive. This is one of the main use cases — back up locally, then free up server storage space without losing anything.
            </p>
          </div>
        </div>

        <!-- FAQ 9 -->
        <div id="gmail-and-outlook" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">Does MailVault work with Gmail and Outlook?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              Yes. MailVault works with Gmail, Outlook, and any other email service that supports IMAP. For Gmail, sign in directly with your Google account using OAuth2 — no manual IMAP settings needed. Microsoft 365 Business and Enterprise accounts can sign in directly with your Microsoft account using OAuth2, and it works seamlessly with two-factor authentication. Personal Outlook.com accounts are currently affected by a <a href="#microsoft-outlook-oauth2" class="text-primary-500 hover:underline">known Microsoft server issue</a>.
            </p>
          </div>
        </div>

        <!-- FAQ: Microsoft Outlook OAuth2 -->
        <div id="microsoft-outlook-oauth2" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">Why can't I connect my Outlook.com account?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <div class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              <p class="mb-4">There is a <strong>known Microsoft server-side issue</strong> affecting personal Outlook.com, Hotmail, and Live.com accounts since late 2024. After signing in with your Microsoft account, the IMAP connection fails with "User is authenticated but not connected." This affects all third-party email clients that use IMAP with OAuth2 — not just MailVault.</p>
              <p class="mb-4">Microsoft requires OAuth2 for personal accounts. Unfortunately, their IMAP service has a regression that prevents OAuth2-authenticated sessions from connecting to the mailbox.</p>
              <p class="mb-2 font-medium text-slate-700 dark:text-slate-300">What you can do:</p>
              <ul class="list-disc list-inside space-y-2 mb-4">
                <li><strong>Microsoft 365 Business/Enterprise accounts</strong> are not affected — OAuth2 works normally for organizational accounts</li>
                <li><strong>Monitor the issue</strong> — This is a server-side problem that only Microsoft can fix. The <a href="https://learn.microsoft.com/en-us/answers/questions/5673167/" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Microsoft Q&A thread</a> tracks the issue</li>
                <li><strong>Use the Outlook web app</strong> or Microsoft's official apps in the meantime for personal accounts</li>
                <li><strong>MailVault is ready</strong> — Once Microsoft resolves the issue, MailVault's OAuth2 sign-in will work immediately with no changes needed</li>
              </ul>
              <p>For technical details: MailVault uses the same OAuth2 implementation as <a href="https://www.thunderbird.net/" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Mozilla Thunderbird</a>, following Microsoft's official IMAP OAuth2 documentation with PKCE and XOAUTH2 authentication.</p>
            </div>
          </div>
        </div>

        <!-- FAQ: Proton Mail Bridge -->
        <div id="proton-mail-bridge" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">How do I use MailVault with Proton Mail?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <div class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              <p class="mb-4">Proton Mail uses end-to-end encryption, so it doesn't expose standard IMAP access directly. To use MailVault with Proton Mail, you need <a href="https://proton.me/mail/bridge" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Proton Mail Bridge</a> — a free desktop app from Proton that runs locally and provides IMAP/SMTP access to your encrypted mailbox.</p>
              <p class="mb-2 font-medium text-slate-700 dark:text-slate-300">Setup steps:</p>
              <ol class="list-decimal list-inside space-y-2 mb-4">
                <li>Download and install <a href="https://proton.me/mail/bridge" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Proton Mail Bridge</a> from Proton's website</li>
                <li>Sign in to Bridge with your Proton Mail account</li>
                <li>In Bridge, go to your account settings and copy the <strong>IMAP/SMTP credentials</strong> (Bridge generates a unique password for each account)</li>
                <li>In MailVault, add a new account with the <strong>Custom</strong> provider and enter the following settings:
                  <ul class="list-disc list-inside ml-4 mt-2 space-y-1">
                    <li>IMAP Host: <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">127.0.0.1</code></li>
                    <li>IMAP Port: <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">1143</code></li>
                    <li>SMTP Host: <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">127.0.0.1</code></li>
                    <li>SMTP Port: <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">1025</code></li>
                    <li>Security: <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">STARTTLS</code></li>
                  </ul>
                </li>
                <li>Use your Proton email address and the <strong>Bridge-generated password</strong> (not your Proton account password)</li>
              </ol>
              <p>Proton Mail Bridge must be running in the background whenever you use MailVault to sync your Proton emails. For more details, see <a href="https://proton.me/support/protonmail-bridge-configure-client" target="_blank" rel="noopener" class="text-primary-500 hover:underline">Proton's official guide for configuring email clients</a>.</p>
            </div>
          </div>
        </div>

        <!-- FAQ 10 -->
        <div id="system-requirements" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">What are the system requirements?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              MailVault requires macOS 10.15 (Catalina) or later. It runs natively on both Intel and Apple Silicon Macs. The app is lightweight and runs in the background from your menu bar with minimal resource usage.
            </p>
          </div>
        </div>

        <!-- FAQ: Attachments -->
        <div id="attachments" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">How are attachments handled?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              Attachments are embedded inside each .eml file as MIME parts — they are not stored as separate files. When you open an email, MailVault's Rust backend parses the MIME structure and extracts attachments on the fly. You can <strong>Open</strong>, <strong>Save As</strong>, or <strong>Show in Folder</strong> any attachment directly from the email viewer. Extracted attachments are temporarily cached for quick re-access.
            </p>
          </div>
        </div>

        <!-- FAQ: Archive -->
        <div id="archive-email" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">What happens when I archive an email?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              Archiving downloads the full email from your server (if not already cached) and stores it as a .eml file on disk with the <strong>A</strong> (Archived) flag in the filename. If the email was already cached locally, MailVault simply renames the file to add the archive flag. Archived emails appear in the <strong>Local</strong> view mode and are included in backups. The email remains on your server unless you explicitly delete it.
            </p>
          </div>
        </div>

        <!-- FAQ: Archive + Delete -->
        <div id="archive-and-delete" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">What happens when I archive and delete from server?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              When you choose "Archive &amp; Delete from Server," MailVault first archives the email locally (downloading and saving the .eml file with the archive flag), then sets the IMAP <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">\Deleted</code> flag on the server copy. The email becomes <strong>"local-only"</strong> — it only exists on your machine. This is the recommended workflow for freeing up server storage while keeping a permanent local backup.
            </p>
          </div>
        </div>

        <!-- FAQ: Backup & Restore -->
        <div id="backup-and-restore" class="faq-item rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 overflow-hidden">
          <button class="faq-toggle w-full flex items-center justify-between px-6 py-5 text-left" aria-expanded="false">
            <span class="text-lg font-semibold pr-4">How does backup and restore work?</span>
            <svg class="faq-chevron w-5 h-5 text-slate-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
          </button>
          <div class="faq-answer">
            <p class="text-slate-600 dark:text-slate-400 leading-relaxed px-6 pb-5">
              MailVault exports your emails as a ZIP archive containing all .eml files plus a <code class="bg-slate-100 dark:bg-slate-900 px-1.5 py-0.5 rounded text-sm">manifest.json</code> that maps emails to accounts by email address (not internal IDs), making backups portable across different installations. You can choose to export <strong>all emails</strong> or <strong>archived only</strong>. Importing is idempotent — if an email already exists locally, it won't be duplicated. If a backup contains emails for an account you haven't set up yet, MailVault creates it automatically (you just re-enter the password in Settings).
            </p>
          </div>
        </div>

      </div>

      <!-- CTA -->
      <div class="mt-12 text-center">
        <p class="text-slate-600 dark:text-slate-400 mb-4">Still have questions?</p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="https://github.com/GraphicMeat/mail-vault-app/discussions" target="_blank" class="gradient-bg text-white px-6 py-3 rounded-xl font-semibold hover:opacity-90 transition-opacity inline-flex items-center justify-center gap-2">
            Ask on GitHub
          </a>
          <a href="/#contact" class="px-6 py-3 rounded-xl font-semibold border-2 border-slate-300 dark:border-slate-600 hover:border-primary-500 transition-colors inline-flex items-center justify-center gap-2">
            Contact Us
          </a>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="py-12 border-t border-slate-200 dark:border-slate-700">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row items-center justify-between gap-6">
        <a href="/" class="flex items-center gap-2">
          <img src="icon-128.png" alt="MailVault logo" class="w-8 h-8 rounded-lg">
          <span class="font-bold text-lg">Mail<span class="text-primary-500">Vault</span></span>
        </a>
        <div class="flex items-center gap-6 text-sm text-slate-600 dark:text-slate-400">
          <a href="/privacy.html" class="hover:text-primary-500 transition-colors">Privacy Policy</a>
          <a href="/faq.html" class="hover:text-primary-500 transition-colors">FAQ</a>
          <a href="/changelog.html" class="hover:text-primary-500 transition-colors">Changelog</a>
          <a href="/terms.html" class="hover:text-primary-500 transition-colors">Terms of Service</a>
          <a href="https://github.com/GraphicMeat/mail-vault-app" class="hover:text-primary-500 transition-colors">GitHub</a>
        </div>
        <p class="text-sm text-slate-500 dark:text-slate-400">
          &copy; 2026 MailVault. All rights reserved.
        </p>
      </div>
    </div>
  </footer>

  <script>
    // Theme Toggle
    const themeToggle = document.getElementById('theme-toggle');
    const html = document.documentElement;
    if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      html.classList.add('dark');
    }
    themeToggle.addEventListener('click', () => {
      html.classList.toggle('dark');
      localStorage.theme = html.classList.contains('dark') ? 'dark' : 'light';
    });

    // Mobile Menu
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIconOpen = document.getElementById('menu-icon-open');
    const menuIconClose = document.getElementById('menu-icon-close');
    mobileMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
      menuIconOpen.classList.toggle('hidden');
      menuIconClose.classList.toggle('hidden');
    });
    document.querySelectorAll('#mobile-menu a').forEach(link => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
        menuIconOpen.classList.remove('hidden');
        menuIconClose.classList.add('hidden');
      });
    });

    // FAQ Accordion
    document.querySelectorAll('.faq-toggle').forEach(button => {
      button.addEventListener('click', () => {
        const answer = button.nextElementSibling;
        const chevron = button.querySelector('.faq-chevron');
        const isOpen = answer.classList.contains('open');

        // Close all others
        document.querySelectorAll('.faq-answer.open').forEach(a => a.classList.remove('open'));
        document.querySelectorAll('.faq-chevron.open').forEach(c => c.classList.remove('open'));
        document.querySelectorAll('.faq-toggle[aria-expanded="true"]').forEach(b => b.setAttribute('aria-expanded', 'false'));

        // Toggle current
        if (!isOpen) {
          answer.classList.add('open');
          chevron.classList.add('open');
          button.setAttribute('aria-expanded', 'true');
        }
      });
    });

    // Auto-expand FAQ section from URL hash (e.g. #proton-mail-bridge)
    if (window.location.hash) {
      const target = document.querySelector(window.location.hash);
      if (target && target.classList.contains('faq-item')) {
        const button = target.querySelector('.faq-toggle');
        const answer = target.querySelector('.faq-answer');
        const chevron = target.querySelector('.faq-chevron');
        if (button && answer) {
          answer.classList.add('open');
          if (chevron) chevron.classList.add('open');
          button.setAttribute('aria-expanded', 'true');
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      }
    }
  </script>
</body>
</html>
